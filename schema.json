{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/midorimici/gentestcase/internal/model/data",
  "$ref": "#/$defs/Data",
  "$defs": {
    "Conditions": {
      "patternProperties": {
        "^\\w+$": {
          "type": "string",
          "pattern": "^[$!(\\w][$!().\\w\u0026| ]+[\\w)]$"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Data": {
      "properties": {
        "factors": {
          "$ref": "#/$defs/Factors",
          "title": "Factors"
        },
        "conditions": {
          "$ref": "#/$defs/Conditions",
          "title": "Conditions",
          "description": "Condition variables"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "factors"
      ]
    },
    "Factor": {
      "properties": {
        "name": {
          "type": "string",
          "title": "Name",
          "description": "Outputted factor name"
        },
        "levels": {
          "patternProperties": {
            "^\\w+$": {
              "$ref": "#/$defs/Level"
            }
          },
          "additionalProperties": false,
          "type": "object",
          "title": "Levels"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "name",
        "levels"
      ]
    },
    "Factors": {
      "patternProperties": {
        "^\\w+$": {
          "$ref": "#/$defs/Factor"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Level": {
      "properties": {
        "name": {
          "type": "string",
          "title": "Name",
          "description": "Outputted level name"
        },
        "if": {
          "type": "string",
          "pattern": "^[$!(\\w][$!().\\w\u0026| ]+[\\w)]$",
          "title": "Condition",
          "description": "Condition to output the level",
          "examples": [
            "factor1.level_id \u0026\u0026 !factor2.level_id"
          ]
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "name"
      ]
    }
  }
}